import { Ribbon } from '../modules/molecules'
import useTranslation from 'next-translate/useTranslation'
import Link from 'next/link'
import { useState } from 'react'

function DownloadAppButton() {
	const { t } = useTranslation('common')
	const [showDropdown, setShowDropdown] = useState(false)

	return (
		<div className='flex justify-center group '>
			<div className='group'>
				<div
					className='group dropdown relative'
					onClick={() => setShowDropdown(!showDropdown)}
				>
					<button
						className='group header__download-app-button text-sm flex items-center justify-center w-44 h-full hover:text-white transition py-[12px] px-[8px] dropdown-toggle'
						type='button'
						id='dropdownMenuButton2'
						data-bs-toggle='dropdown'
						aria-expanded='false'
					>
						{t('Download App')}
						<svg
							className='-mr-1 ml-1 h-5 w-5'
							xmlns='http://www.w3.org/2000/svg'
							viewBox='0 0 20 20'
							fill='currentColor'
							aria-hidden='true'
						>
							<path
								fillRule='evenodd'
								d='M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z'
								clipRule='evenodd'
							/>
						</svg>
					</button>
					{/* Section Dropdown */}
					<ul
						className={[
							` transition-all duration-300 dropdown-menu absolute bg-white text-base z-50 right-0 py-2 rounded-lg shadow-lg mt-1 m-0 bg-clip-padding border-none`,
							showDropdown ? 'block' : 'hidden',
						].join(' ')}
						aria-labelledby='dropdownMenuButton2'
					>
						<li className='hover:bg-gray-100 relative flex py-2 gap-4 px-4 items-center cursor-pointer h-full w-full'>
							{/* <div className=''> */}
							<AppleIcon />
							<p className='col-span-2 text-sm font-semibold text-gray-800'>
								{t('common:For IOS')}
							</p>
							<Ribbon className={'h-[100%]'} />
							{/* </div> */}
						</li>
						<li>
							<Link
								legacyBehavior
								passHref
								href='https://play.google.com/store/apps/details?id=com.metabase.gg'
							>
								<a className='hover:bg-gray-100 relative flex py-2 gap-4 px-4 items-center cursor-pointer'>
									<AndroidLogo />
									<p className='col-span-2 text-sm font-semibold text-gray-800'>
										{t('common:For Android')}
									</p>
								</a>
							</Link>
						</li>
					</ul>
				</div>
			</div>
		</div>
	)
}

function AppleIcon() {
	return (
		<svg
			width='25'
			height='26'
			viewBox='0 0 20 25'
			fill='none'
			xmlns='http://www.w3.org/2000/svg'
		>
			<path
				d='M0 14.0164C0 13.5791 0 13.1422 0 12.7049C0.067623 12.241 0.111475 11.7717 0.207787 11.3139C0.569262 9.59711 1.36885 8.1344 2.82213 7.10449C4.25615 6.0885 5.83607 5.72047 7.55533 6.24506C8.12131 6.41801 8.66967 6.65121 9.22008 6.87047C9.83279 7.11473 10.4373 7.12867 11.052 6.87744C11.5254 6.68399 12.0041 6.50367 12.4848 6.3299C14.1742 5.71883 15.823 5.82785 17.4193 6.64342C18.2111 7.04793 18.8451 7.64014 19.3586 8.38154C19.2648 8.44711 19.1799 8.50326 19.0979 8.5635C17.5979 9.66391 16.7443 11.111 16.7094 13.0012C16.6598 15.675 18.4086 17.3504 20.0004 18.0328V18.1147C19.9811 18.1569 19.9574 18.1979 19.9426 18.2422C19.5561 19.3934 19.0299 20.477 18.3447 21.4795C17.7939 22.2856 17.2365 23.0881 16.4914 23.7369C15.7557 24.3774 14.9193 24.6676 13.9389 24.516C13.391 24.4311 12.8955 24.2069 12.3947 23.9914C11.2041 23.4791 9.99877 23.4467 8.78525 23.893C8.10328 24.1438 7.45082 24.4799 6.72131 24.5901H6.10656C5.04098 24.402 4.31598 23.711 3.66762 22.9188C3.31393 22.4865 2.97869 22.0373 2.65656 21.5807C1.32295 19.6922 0.534016 17.584 0.165164 15.3115C0.0954918 14.8824 0.0540984 14.4483 0 14.0164Z'
				fill='black'
			/>
			<path
				d='M14.8771 0C15.1673 2.45369 13.3841 5.01066 10.9755 5.57992C10.7136 5.6418 10.4353 5.63361 10.1652 5.66352C9.96931 5.68525 9.92546 5.57951 9.91521 5.41025C9.8771 4.77828 9.98775 4.17008 10.2234 3.58893C10.9894 1.70123 12.3705 0.52623 14.3537 0.0594262C14.446 0.0381148 14.5386 0.0196721 14.6312 0C14.7132 0 14.7951 0 14.8771 0Z'
				fill='black'
			/>
		</svg>
	)
}

function AndroidLogo() {
	return (
		<svg
			width='25'
			height='26'
			viewBox='0 0 25 26'
			fill='none'
			xmlns='http://www.w3.org/2000/svg'
		>
			<g clipPath='url(#clip0_3773_8233)'>
				<path
					d='M3.47055 8.68799C3.0398 8.68799 2.67433 8.8382 2.3739 9.13863C2.07348 9.43905 1.92322 9.79956 1.92322 10.2203V16.6806C1.92322 17.1119 2.07343 17.4771 2.3739 17.7775C2.67433 18.078 3.0398 18.2282 3.47055 18.2282C3.90099 18.2282 4.26424 18.078 4.56001 17.7775C4.8552 17.4771 5.0032 17.1119 5.0032 16.6806V10.2203C5.0032 9.79951 4.85298 9.43905 4.55251 9.13863C4.25204 8.8382 3.89131 8.68799 3.47055 8.68799Z'
					fill='black'
				/>
				<path
					d='M15.9107 2.88857L16.9774 0.920745C17.0474 0.790467 17.0225 0.690566 16.9024 0.620319C16.7721 0.559746 16.672 0.590439 16.602 0.71023L15.5204 2.69378C14.5686 2.27298 13.562 2.06219 12.5004 2.06219C11.4387 2.06219 10.4319 2.27302 9.48053 2.69378L8.39884 0.71023C8.32855 0.590439 8.22842 0.560017 8.09842 0.620319C7.97808 0.690883 7.95318 0.790467 8.02347 0.920745L9.09024 2.88857C8.00855 3.44019 7.14705 4.20843 6.50606 5.19497C5.86507 6.18204 5.54443 7.2607 5.54443 8.43284H19.4413C19.4413 7.26097 19.1207 6.18227 18.4797 5.19497C17.8387 4.20843 16.9821 3.44019 15.9107 2.88857ZM9.74335 5.7508C9.62799 5.86643 9.4902 5.92397 9.33005 5.92397C9.16957 5.92397 9.03459 5.86643 8.92447 5.7508C8.81436 5.63571 8.7593 5.49847 8.7593 5.33777C8.7593 5.17761 8.81436 5.0401 8.92447 4.92474C9.03459 4.80965 9.16989 4.7521 9.33005 4.7521C9.4902 4.7521 9.62799 4.80965 9.74335 4.92474C9.85844 5.04037 9.91625 5.17761 9.91625 5.33777C9.91594 5.4982 9.85816 5.63571 9.74335 5.7508ZM16.0758 5.7508C15.9655 5.86643 15.8302 5.92397 15.6703 5.92397C15.5098 5.92397 15.372 5.86643 15.2569 5.7508C15.1416 5.63571 15.084 5.49847 15.084 5.33777C15.084 5.17761 15.1416 5.0401 15.2569 4.92474C15.372 4.80965 15.5098 4.7521 15.6703 4.7521C15.8304 4.7521 15.9654 4.80965 16.0758 4.92474C16.186 5.04037 16.241 5.17761 16.241 5.33777C16.241 5.4982 16.186 5.63571 16.0758 5.7508Z'
					fill='black'
				/>
				<path
					d='M5.604 18.9792C5.604 19.4404 5.76416 19.8308 6.08452 20.1512C6.40516 20.4715 6.79554 20.6317 7.25639 20.6317H8.36823L8.38346 24.0425C8.38346 24.4732 8.53368 24.8389 8.8341 25.1394C9.13453 25.4399 9.4953 25.5901 9.91579 25.5901C10.3463 25.5901 10.712 25.4399 11.0124 25.1394C11.3129 24.8389 11.4631 24.4732 11.4631 24.0425V20.632H13.5364V24.0425C13.5364 24.4732 13.6865 24.8389 13.987 25.1394C14.2875 25.4399 14.6529 25.5901 15.0837 25.5901C15.5141 25.5901 15.8798 25.4399 16.1803 25.1394C16.4808 24.8389 16.6309 24.4732 16.6309 24.0425V20.632H17.7578C18.2084 20.632 18.5938 20.4718 18.9147 20.1514C19.2351 19.8311 19.3953 19.4407 19.3953 18.9796V8.97314H5.604V18.9792Z'
					fill='black'
				/>
				<path
					d='M21.5296 8.68799C21.1088 8.68799 20.7483 8.83599 20.4478 9.13117C20.1474 9.42689 19.9972 9.79015 19.9972 10.2203V16.6806C19.9972 17.1119 20.1474 17.4771 20.4478 17.7775C20.7483 18.078 21.109 18.2282 21.5296 18.2282C21.96 18.2282 22.3257 18.078 22.6262 17.7775C22.9267 17.4771 23.0769 17.1119 23.0769 16.6806V10.2203C23.0769 9.79011 22.9267 9.42689 22.6262 9.13117C22.3257 8.83599 21.96 8.68799 21.5296 8.68799Z'
					fill='black'
				/>
			</g>
			<defs>
				<clipPath id='clip0_3773_8233'>
					<rect
						width='25'
						height='25'
						fill='white'
						transform='translate(0 0.590088)'
					/>
				</clipPath>
			</defs>
		</svg>
	)
}

export default DownloadAppButton
